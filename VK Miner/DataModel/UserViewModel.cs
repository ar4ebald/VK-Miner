using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Diagnostics;
using System.Globalization;
using System.Linq;
using System.Runtime.CompilerServices;
using System.Text;
using System.Text.RegularExpressions;
using System.Threading.Tasks;
using Windows.ApplicationModel;
using Windows.UI.Xaml.Media.Imaging;
using Newtonsoft.Json;
using Newtonsoft.Json.Linq;
using VK_Miner.Annotations;
using VK_Miner.VK;
using VK_Miner.VK.Model;

namespace VK_Miner.DataModel
{
    // Булатов Артур 17234229
    // Карина Гращенкова 92646564

    class UserViewModel : INotifyPropertyChanged
    {
        public class Foo { }

        public long UserId { get; }

        #region Main
        public string FullName { get; }
        public bool DataAvailable { get; }
        public string Photo { get; }
        public List<StringPair> MainInfoItems { get; }
        public List<CountersMenuItem> Counters { get; }
        public string Online { get; }
        public string Status { get; }
        #endregion

        #region Photo
        public string PhotosCount { get; }
        public List<PhotoDialogViewModel.PhotoItem> FirstPhotos { get; }
        public List<PhotoMenuItem> Photos { get; }
        #endregion

        private const string Durov = "{\"id\":1,\"first_name\":\"Павел\",\"last_name\":\"Дуров\",\"sex\":2,\"domain\":\"durov\",\"bdate\":\"10.10.1984\",\"city\":{\"id\":2,\"title\":\"Санкт-Петербург\"},\"photo_max_orig\":\"https://pp.vk.me/c629231/v629231001/c536/dcqdvDEUs4E.jpg\",\"friend_status\":0,\"online\":0,\"twitter\":\"durov\",\"instagram\":\"durov\",\"site\":\"\",\"status\":\"道德經\",\"last_seen\":{\"time\":1398447188,\"platform\":7},\"counters\":{\"albums\":3,\"videos\":12,\"audios\":0,\"notes\":6,\"photos\":213,\"friends\":718,\"online_friends\":95,\"mutual_friends\":0,\"followers\":6203171,\"subscriptions\":0,\"pages\":42},\"occupation\":{\"type\":\"work\",\"name\":\"Telegram\"},\"home_town\":\"\",\"relation\":0,\"personal\":{\"political\":9,\"langs\":[\"Русский\",\"English\",\"Français\",\"Deutsch\",\"Español\",\"Italiano\",\"Lingua Latina\"],\"religion\":\"Laissez-faire\",\"inspired_by\":\"Steve Jobs\",\"people_main\":5,\"life_main\":6,\"smoking\":1,\"alcohol\":1},\"interests\":\"\",\"music\":\"\",\"activities\":\"\",\"movies\":\"12 Angry Men\",\"tv\":\"\",\"books\":\"\",\"games\":\"\",\"universities\":[{\"id\":1,\"country\":1,\"city\":2,\"name\":\"СПбГУ\",\"graduation\":2006}],\"schools\":[{\"id\":\"1035386\",\"country\":88,\"city\":16,\"name\":\"Sc.Elem. Coppino - Falletti di Barolo\",\"year_from\":1990,\"year_to\":1992,\"class\":\"\"},{\"id\":\"1\",\"country\":1,\"city\":2,\"name\":\"Академическая гимназия (АГ) СПбГУ\",\"year_from\":1996,\"year_to\":2001,\"year_graduated\":2001,\"class\":\"о\",\"type\":1,\"type_str\":\"Гимназия\"}],\"about\":\"\",\"quotes\":\"Being free, being truly free consists of not being bound by the opinions that others choose to display in regards to the decisions that one chooses to make on a daily weekly, or lifetime basis. \\n\\nIn order to be free we have to be willing to think for ourselves, learn for our selves, and to live our lives as our real true selves. Being free is when you are able to stand up and speak in public spewing your beliefs not caring what anyone else will think of them. \\n\\nBeing free is when you are able to go against the grain, when you are able to make a left when everyone else is going right, and not worry about why everyone is talking about you, or looking at you in a manner that is unfavorable, and with faces that blatantly say that they don't approve of your choices. \\n\\nOne of the greatest challenges is being yourself in a world that's trying to make you like everyone else.\",\"photos\":{\"count\":213,\"items\":[{\"id\":376599151,\"album_id\":-6,\"owner_id\":1,\"sizes\":[{\"src\":\"https://pp.vk.me/c629231/v629231001/c52a/ivi7X4q9KlY.jpg\",\"width\":75,\"height\":50,\"type\":\"s\"},{\"src\":\"https://pp.vk.me/c629231/v629231001/c52b/b76ik2VJeug.jpg\",\"width\":130,\"height\":86,\"type\":\"m\"},{\"src\":\"https://pp.vk.me/c629231/v629231001/c52c/ZwXORhLs8Qc.jpg\",\"width\":604,\"height\":399,\"type\":\"x\"},{\"src\":\"https://pp.vk.me/c629231/v629231001/c52d/UG6oc6gUVns.jpg\",\"width\":807,\"height\":533,\"type\":\"y\"},{\"src\":\"https://pp.vk.me/c629231/v629231001/c52e/nVDlCUcvPto.jpg\",\"width\":1280,\"height\":845,\"type\":\"z\"},{\"src\":\"https://pp.vk.me/c629231/v629231001/c52f/7MhreDjLQL8.jpg\",\"width\":2560,\"height\":1691,\"type\":\"w\"},{\"src\":\"https://pp.vk.me/c629231/v629231001/c530/j0JwoF3IAdg.jpg\",\"width\":130,\"height\":87,\"type\":\"o\"},{\"src\":\"https://pp.vk.me/c629231/v629231001/c531/QZ7UNtoWmn4.jpg\",\"width\":200,\"height\":133,\"type\":\"p\"},{\"src\":\"https://pp.vk.me/c629231/v629231001/c532/lZfQ-9vJ4r0.jpg\",\"width\":320,\"height\":213,\"type\":\"q\"},{\"src\":\"https://pp.vk.me/c629231/v629231001/c533/mgFI6x5ZCa4.jpg\",\"width\":510,\"height\":340,\"type\":\"r\"}],\"text\":\"\",\"date\":1438687279,\"real_offset\":0},{\"id\":374991175,\"album_id\":-7,\"owner_id\":1,\"sizes\":[{\"src\":\"https://cs7055.vk.me/c540108/v540108001/6a03/qjw5y18JvuA.jpg\",\"width\":75,\"height\":75,\"type\":\"s\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/6a04/EdJqgCQPLrA.jpg\",\"width\":130,\"height\":130,\"type\":\"m\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/6a05/oaRFEFH7OGI.jpg\",\"width\":499,\"height\":499,\"type\":\"x\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/6a06/MpEwL1HEnDY.jpg\",\"width\":130,\"height\":130,\"type\":\"o\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/6a07/RgihkyJF51c.jpg\",\"width\":200,\"height\":200,\"type\":\"p\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/6a08/-gDE3xnNAno.jpg\",\"width\":320,\"height\":320,\"type\":\"q\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/6a09/YjJeDqTW1Ho.jpg\",\"width\":499,\"height\":499,\"type\":\"r\"}],\"text\":\"\",\"date\":1437521382,\"post_id\":58140,\"real_offset\":1},{\"id\":374731134,\"album_id\":218751070,\"owner_id\":1,\"has_filter\":1,\"sizes\":[{\"src\":\"https://cs7055.vk.me/c540108/v540108001/67c7/0S0ZQtpnWmI.jpg\",\"width\":75,\"height\":75,\"type\":\"s\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/67c8/CFiM9EVLNNc.jpg\",\"width\":130,\"height\":130,\"type\":\"m\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/67c9/YBJ155Z5kJI.jpg\",\"width\":604,\"height\":604,\"type\":\"x\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/67ca/mJmwyeNrOcg.jpg\",\"width\":807,\"height\":807,\"type\":\"y\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/67cb/8l2W0nNp6CA.jpg\",\"width\":1024,\"height\":1024,\"type\":\"z\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/67cc/PPU996ic_Hc.jpg\",\"width\":1080,\"height\":1080,\"type\":\"w\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/67cd/pfPX-sJYxd4.jpg\",\"width\":130,\"height\":130,\"type\":\"o\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/67ce/5fv4xUxDuMg.jpg\",\"width\":200,\"height\":200,\"type\":\"p\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/67cf/gzifITQfXLA.jpg\",\"width\":320,\"height\":320,\"type\":\"q\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/67d0/WqiJaJRPAUw.jpg\",\"width\":510,\"height\":510,\"type\":\"r\"}],\"text\":\"Публикую первую фотографию через Snapster – лучший продукт VK за последние месяцы 👍\",\"date\":1437340309,\"post_id\":45657,\"real_offset\":2},{\"id\":373996647,\"album_id\":-7,\"owner_id\":1,\"sizes\":[{\"src\":\"https://pp.vk.me/c627431/v627431001/cedd/1tu0cU8zoRE.jpg\",\"width\":75,\"height\":55,\"type\":\"s\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/cede/uvueOvdjN-k.jpg\",\"width\":130,\"height\":96,\"type\":\"m\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/cedf/Nx3v2Xxh9Tk.jpg\",\"width\":604,\"height\":444,\"type\":\"x\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/cee0/WH1FBEONlxQ.jpg\",\"width\":807,\"height\":593,\"type\":\"y\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/cee1/4N8OSyhxgdA.jpg\",\"width\":1280,\"height\":940,\"type\":\"z\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/cee2/2RstIPHSL_0.jpg\",\"width\":2000,\"height\":1468,\"type\":\"w\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/cee3/tren9aEwKKo.jpg\",\"width\":130,\"height\":96,\"type\":\"o\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/cee4/iMZs9zmr-48.jpg\",\"width\":200,\"height\":147,\"type\":\"p\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/cee5/Ci1akDPzD8g.jpg\",\"width\":320,\"height\":235,\"type\":\"q\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/cee6/EhVN07PaDFg.jpg\",\"width\":510,\"height\":375,\"type\":\"r\"}],\"text\":\"\",\"date\":1436789187,\"real_offset\":3},{\"id\":373994681,\"album_id\":-7,\"owner_id\":1,\"sizes\":[{\"src\":\"https://pp.vk.me/c627431/v627431001/ceb4/Cd-jqauqqB0.jpg\",\"width\":75,\"height\":57,\"type\":\"s\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/ceb5/13NB32bpco8.jpg\",\"width\":130,\"height\":99,\"type\":\"m\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/ceb6/aID5gbYZ3L4.jpg\",\"width\":604,\"height\":459,\"type\":\"x\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/ceb7/rpfVXBU32A4.jpg\",\"width\":807,\"height\":613,\"type\":\"y\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/ceb8/P-mXUrOBeVM.jpg\",\"width\":1280,\"height\":973,\"type\":\"z\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/ceb9/LbTqlW9VxQs.jpg\",\"width\":2000,\"height\":1520,\"type\":\"w\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/ceba/-dhBsnvJkJw.jpg\",\"width\":130,\"height\":99,\"type\":\"o\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/cebb/auCkTotQ0s4.jpg\",\"width\":200,\"height\":152,\"type\":\"p\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/cebc/sdgVaiZRt9M.jpg\",\"width\":320,\"height\":243,\"type\":\"q\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/cebd/iDuIMMeakSo.jpg\",\"width\":510,\"height\":388,\"type\":\"r\"}],\"text\":\"Посвящение, сохраненное с первого издания книги в начале 90х.\",\"date\":1436788324,\"real_offset\":4},{\"id\":373993669,\"album_id\":-7,\"owner_id\":1,\"sizes\":[{\"src\":\"https://pp.vk.me/c627431/v627431001/ce99/qqnVRjLMyak.jpg\",\"width\":75,\"height\":69,\"type\":\"s\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/ce9a/Wcjx4Xx0ceg.jpg\",\"width\":130,\"height\":119,\"type\":\"m\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/ce9b/OCutV0-ROVA.jpg\",\"width\":604,\"height\":555,\"type\":\"x\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/ce9c/aDwufW4dzpA.jpg\",\"width\":807,\"height\":742,\"type\":\"y\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/ce9d/aFcvrtjVX2g.jpg\",\"width\":1114,\"height\":1024,\"type\":\"z\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/ce9e/o-11P-FVcCk.jpg\",\"width\":2000,\"height\":1839,\"type\":\"w\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/ce9f/YcmaM5FKxf0.jpg\",\"width\":130,\"height\":119,\"type\":\"o\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/cea0/jmNfZkbhX3o.jpg\",\"width\":200,\"height\":184,\"type\":\"p\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/cea1/zmtxeD5kDmQ.jpg\",\"width\":320,\"height\":294,\"type\":\"q\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/cea2/3akD_Jbxybs.jpg\",\"width\":510,\"height\":469,\"type\":\"r\"}],\"text\":\"\",\"date\":1436787850,\"real_offset\":5},{\"id\":373992918,\"album_id\":-7,\"owner_id\":1,\"sizes\":[{\"src\":\"https://pp.vk.me/c627431/v627431001/ce88/fC_QnBrg8bk.jpg\",\"width\":75,\"height\":59,\"type\":\"s\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/ce89/BJI6n7D9s1U.jpg\",\"width\":130,\"height\":103,\"type\":\"m\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/ce8a/_CBA9N_hV5Q.jpg\",\"width\":604,\"height\":478,\"type\":\"x\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/ce8b/fui8mj6ZXxI.jpg\",\"width\":807,\"height\":638,\"type\":\"y\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/ce8c/DrQOmcNuIbs.jpg\",\"width\":1280,\"height\":1012,\"type\":\"z\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/ce8d/ioxgR5QZut8.jpg\",\"width\":2000,\"height\":1581,\"type\":\"w\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/ce8e/TArdH_ZtLEk.jpg\",\"width\":130,\"height\":103,\"type\":\"o\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/ce8f/x9jTkj9PbJM.jpg\",\"width\":200,\"height\":158,\"type\":\"p\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/ce90/pUyKcYxVY7c.jpg\",\"width\":320,\"height\":253,\"type\":\"q\"},{\"src\":\"https://pp.vk.me/c627431/v627431001/ce91/zwc8jKhercc.jpg\",\"width\":510,\"height\":403,\"type\":\"r\"}],\"text\":\"\",\"date\":1436787471,\"real_offset\":6},{\"id\":372345716,\"album_id\":-7,\"owner_id\":1,\"sizes\":[{\"src\":\"https://cs7055.vk.me/c540108/v540108001/50a5/OdME5IWu8Vs.jpg\",\"width\":75,\"height\":75,\"type\":\"s\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/50a6/aQjZAAHuksk.jpg\",\"width\":130,\"height\":130,\"type\":\"m\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/50a7/J7YTSGvyCso.jpg\",\"width\":604,\"height\":604,\"type\":\"x\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/50a8/ZCFEVCfBDNY.jpg\",\"width\":807,\"height\":807,\"type\":\"y\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/50a9/kXtsS8aoRGY.jpg\",\"width\":960,\"height\":960,\"type\":\"z\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/50aa/qiOovWbkqqk.jpg\",\"width\":130,\"height\":130,\"type\":\"o\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/50ab/stIFE1NiJUQ.jpg\",\"width\":200,\"height\":200,\"type\":\"p\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/50ac/4gQaBn2iYFw.jpg\",\"width\":320,\"height\":320,\"type\":\"q\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/50ad/HzJDQr6Rh2E.jpg\",\"width\":510,\"height\":510,\"type\":\"r\"}],\"text\":\"\",\"date\":1435520716,\"post_id\":45652,\"real_offset\":7},{\"id\":370173549,\"album_id\":-7,\"owner_id\":1,\"sizes\":[{\"src\":\"https://cs7055.vk.me/c540108/v540108001/47ee/XTs0ZeDDMBQ.jpg\",\"width\":75,\"height\":74,\"type\":\"s\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/47ef/_0McDdl0dFg.jpg\",\"width\":130,\"height\":128,\"type\":\"m\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/47f0/VDzwZ4Idtqc.jpg\",\"width\":604,\"height\":597,\"type\":\"x\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/47f1/PkqYlecIDz0.jpg\",\"width\":640,\"height\":633,\"type\":\"y\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/47f2/AUn9TxYP_vU.jpg\",\"width\":130,\"height\":128,\"type\":\"o\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/47f3/FZG7Z1el0zo.jpg\",\"width\":200,\"height\":198,\"type\":\"p\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/47f4/RozX_FrrbDU.jpg\",\"width\":320,\"height\":317,\"type\":\"q\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/47f5/bNqDQIpep9s.jpg\",\"width\":510,\"height\":504,\"type\":\"r\"}],\"text\":\"\",\"date\":1433850257,\"real_offset\":8},{\"id\":370172836,\"album_id\":-7,\"owner_id\":1,\"sizes\":[{\"src\":\"https://cs7055.vk.me/c540108/v540108001/47dc/mJVqjCQh_7c.jpg\",\"width\":75,\"height\":75,\"type\":\"s\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/47dd/ES_r1G02p_c.jpg\",\"width\":130,\"height\":130,\"type\":\"m\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/47de/3ZV_yGc-6lI.jpg\",\"width\":604,\"height\":604,\"type\":\"x\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/47df/qQJGLw3C3A0.jpg\",\"width\":807,\"height\":807,\"type\":\"y\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/47e0/jShz3VJ4FGQ.jpg\",\"width\":960,\"height\":960,\"type\":\"z\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/47e1/o9gXD5j0dC4.jpg\",\"width\":130,\"height\":130,\"type\":\"o\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/47e2/WX2EgVenlY0.jpg\",\"width\":200,\"height\":200,\"type\":\"p\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/47e3/xorlWV0xo4Y.jpg\",\"width\":320,\"height\":320,\"type\":\"q\"},{\"src\":\"https://cs7055.vk.me/c540108/v540108001/47e4/3PwHq62Yf3U.jpg\",\"width\":510,\"height\":510,\"type\":\"r\"}],\"text\":\"\",\"date\":1433849876,\"lat\":37.78982,\"long\":-122.389938,\"real_offset\":9}],\"more\":1}}";
        private const string Karina = "{\"id\":92646564,\"first_name\":\"Карина\",\"last_name\":\"Гращенкова\",\"sex\":1,\"domain\":\"id92646564\",\"bdate\":\"30.10.1998\",\"city\":{\"id\":88,\"title\":\"Набережные Челны\"},\"photo_max_orig\":\"https://pp.vk.me/c841/u92646564/a_afd53f47.jpg\",\"friend_status\":3,\"online\":0,\"mobile_phone\":\"8960085517*........\",\"home_phone\":\"355***...\",\"site\":\"\",\"status\":\"\",\"last_seen\":{\"time\":1322947028,\"platform\":7},\"counters\":{\"albums\":6,\"videos\":0,\"audios\":6,\"notes\":0,\"photos\":44,\"groups\":26,\"friends\":94,\"online_friends\":2,\"mutual_friends\":3,\"user_photos\":8,\"user_videos\":0,\"followers\":28,\"subscriptions\":8,\"pages\":1},\"occupation\":{\"type\":\"university\",\"id\":631,\"name\":\"ИНЭКА (КамПИ)\"},\"home_town\":\"\",\"relation\":6,\"personal\":{\"political\":3,\"religion\":\"русская\"},\"interests\":\".........  ..............музыка всякая=) .....................................................................................................................................................................................................спорт=)\\nи еще много чвего\",\"music\":\"вставай; хэппи энд;вспомни капитан ремикс;тектоник американо все танцуют басиком на песке.шаг вперед финальный танец, я тебя забыла, зачем\",\"activities\":\"ученица 76 гимназии=)  еще музыкальной и художественой школах=) хожу в спортзал.....\",\"movies\":\"еще одна история о золушке.шаг вперед 1 и 2 добейся успеха между небом и землей и т.д рожденственская история, сумерки, новолуние, затмение=)\",\"tv\":\"большая разница, мтv, универ, камеди ..... сплетница, южное бутово, большие гонки\",\"books\":\"журналы разные=) сумерки, новолуние, затмение, рассвет, а так я неоч люблю \\nчитать.\",\"games\":\"как достать своего соседа, переводной, клубная жизнь, счастливый фермер, покемоны, копай, тайная комната, вообщем у меня их \\nмного.......................................................................................................\",\"universities\":[{\"id\":631,\"country\":1,\"city\":88,\"name\":\"ИНЭКА (КамПИ)\",\"faculty\":173678,\"faculty_name\":\"Экономический\",\"chair\":42931,\"chair_name\":\"Маркетинг и менеджмент\",\"graduation\":2016,\"education_form\":\"Дневное отделение\",\"education_status\":\"Студентка (магистр)\"},{\"id\":85924,\"country\":1,\"city\":88,\"name\":\"КамИИД\",\"faculty\":200461,\"faculty_name\":\"Дизайн\",\"chair\":309020,\"chair_name\":\"Дизайн костюма\",\"graduation\":2016,\"education_form\":\"Дневное отделение\",\"education_status\":\"Студентка (специалист)\"},{\"id\":21466,\"country\":1,\"city\":88,\"name\":\"Университет управления «ТИСБИ» (НЧФ)\",\"faculty\":2160375,\"faculty_name\":\"Юридический\"},{\"id\":85924,\"country\":1,\"city\":88,\"name\":\"КамИИД\",\"faculty\":208793,\"faculty_name\":\"Искусство интерьера\",\"graduation\":2016,\"education_form\":\"Дневное отделение\",\"education_status\":\"Студентка (магистр)\"}],\"schools\":[{\"id\":\"157595\",\"country\":1,\"city\":88,\"name\":\"Гимназия №76 (бывш. 3)\",\"year_from\":2005,\"year_to\":2005,\"year_graduated\":2016,\"class\":\"в\",\"speciality\":\"ученица\",\"type\":1,\"type_str\":\"Гимназия\"},{\"id\":\"60232\",\"country\":1,\"city\":88,\"name\":\"Музыкальная школа №6 им. С. Сайдашева\",\"year_from\":2002,\"year_to\":2012,\"year_graduated\":2012,\"class\":\"\",\"speciality\":\"фо-но,скрипка\",\"type\":5,\"type_str\":\"Музыкальная школа\"},{\"id\":\"440132\",\"country\":1,\"city\":88,\"name\":\"Художественная школа №1\",\"year_from\":2007,\"year_to\":2012,\"year_graduated\":2012,\"class\":\"ж\",\"speciality\":\"рисование\",\"type\":7,\"type_str\":\"Худ. школа\"},{\"id\":\"148808\",\"country\":1,\"city\":88,\"name\":\"Городской центр детского творчества\",\"year_from\":2001,\"year_to\":2008,\"class\":\"\",\"speciality\":\"танцы\"}],\"about\":\"играю на скрипке фо-но.рисую.\\nувлекаюсь спортом=)\",\"quotes\":\"..........................................................................................незнаю......................................................................................................................=)\"}";
        private const string CandyTrip = "{\"id\":190735249,\"first_name\":\"Candy\",\"last_name\":\"Trip\",\"sex\":1,\"domain\":\"candytrip\",\"bdate\":\"25.10.1989\",\"city\":{\"id\":2,\"title\":\"Санкт-Петербург\"},\"photo_max_orig\":\"https://pp.vk.me/c624222/v624222249/441ab/LG_Z3nFKZw0.jpg\",\"friend_status\":0,\"online\":0,\"mobile_phone\":\"\",\"home_phone\":\"\",\"site\":\"\",\"status\":\"It's PONY TIME!\",\"last_seen\":{\"time\":1439613267,\"platform\":7},\"counters\":{\"albums\":4,\"videos\":254,\"audios\":3582,\"notes\":0,\"photos\":417,\"groups\":238,\"gifts\":44,\"friends\":246,\"online_friends\":30,\"mutual_friends\":0,\"user_photos\":5,\"user_videos\":0,\"followers\":331,\"subscriptions\":2,\"pages\":138},\"home_town\":\"\",\"relation\":0,\"personal\":{\"political\":4,\"religion\":\"Наркотический Эквестриализм\",\"inspired_by\":\"Секс и наркотики\",\"people_main\":2,\"life_main\":6,\"smoking\":5,\"alcohol\":5},\"interests\":\"\",\"music\":\"\",\"activities\":\"\",\"movies\":\"\",\"tv\":\"\",\"books\":\"\",\"games\":\"\",\"universities\":[],\"schools\":[],\"about\":\"\",\"quotes\":\"\",\"photos\":{\"count\":417,\"items\":[{\"id\":378333437,\"album_id\":186644452,\"owner_id\":190735249,\"sizes\":[{\"src\":\"https://pp.vk.me/c624222/v624222249/441af/sMBje8UHDNA.jpg\",\"width\":50,\"height\":75,\"type\":\"s\"},{\"src\":\"https://pp.vk.me/c624222/v624222249/441b0/-69oPVs0AcE.jpg\",\"width\":87,\"height\":130,\"type\":\"m\"},{\"src\":\"https://pp.vk.me/c624222/v624222249/441b1/LB1reOrEqs4.jpg\",\"width\":402,\"height\":604,\"type\":\"x\"},{\"src\":\"https://pp.vk.me/c624222/v624222249/441b2/voVLwcJ9AFw.jpg\",\"width\":537,\"height\":807,\"type\":\"y\"},{\"src\":\"https://pp.vk.me/c624222/v624222249/441b3/GpXKYcsqgOc.jpg\",\"width\":682,\"height\":1024,\"type\":\"z\"},{\"src\":\"https://pp.vk.me/c624222/v624222249/441b4/HIRWUDzxYRk.jpg\",\"width\":130,\"height\":195,\"type\":\"o\"},{\"src\":\"https://pp.vk.me/c624222/v624222249/441b5/mXcOv_SZkgY.jpg\",\"width\":200,\"height\":300,\"type\":\"p\"},{\"src\":\"https://pp.vk.me/c624222/v624222249/441b6/7475HlS9IXY.jpg\",\"width\":320,\"height\":480,\"type\":\"q\"},{\"src\":\"https://pp.vk.me/c624222/v624222249/441b7/z8q0mTMh6go.jpg\",\"width\":510,\"height\":766,\"type\":\"r\"}],\"text\":\"\",\"date\":1439611974,\"real_offset\":0},{\"id\":378333410,\"album_id\":-6,\"owner_id\":190735249,\"sizes\":[{\"src\":\"https://pp.vk.me/c624222/v624222249/4419f/eUgg2-3dqrw.jpg\",\"width\":50,\"height\":75,\"type\":\"s\"},{\"src\":\"https://pp.vk.me/c624222/v624222249/441a0/nchS-IBtlO0.jpg\",\"width\":87,\"height\":130,\"type\":\"m\"},{\"src\":\"https://pp.vk.me/c624222/v624222249/441a1/IzQ9X6aFQXg.jpg\",\"width\":402,\"height\":604,\"type\":\"x\"},{\"src\":\"https://pp.vk.me/c624222/v624222249/441a2/LUiy_ixWOis.jpg\",\"width\":537,\"height\":807,\"type\":\"y\"},{\"src\":\"https://pp.vk.me/c624222/v624222249/441a3/bIqyT6vxnoc.jpg\",\"width\":682,\"height\":1024,\"type\":\"z\"},{\"src\":\"https://pp.vk.me/c624222/v624222249/441a4/0iI01AhbqPE.jpg\",\"width\":1365,\"height\":2048,\"type\":\"w\"},{\"src\":\"https://pp.vk.me/c624222/v624222249/441a5/ewoGVHJRjw0.jpg\",\"width\":130,\"height\":195,\"type\":\"o\"},{\"src\":\"https://pp.vk.me/c624222/v624222249/441a6/Rp3n-X3GDiY.jpg\",\"width\":200,\"height\":300,\"type\":\"p\"},{\"src\":\"https://pp.vk.me/c624222/v624222249/441a7/JhJv21ZXf58.jpg\",\"width\":320,\"height\":480,\"type\":\"q\"},{\"src\":\"https://pp.vk.me/c624222/v624222249/441a8/78aIkj2LESU.jpg\",\"width\":510,\"height\":766,\"type\":\"r\"}],\"text\":\"\",\"date\":1439611900,\"post_id\":10766,\"real_offset\":1},{\"id\":377760893,\"album_id\":-6,\"owner_id\":190735249,\"sizes\":[{\"src\":\"https://pp.vk.me/c623826/v623826988/1b69d/7wUwFOyeqU0.jpg\",\"width\":63,\"height\":75,\"type\":\"s\"},{\"src\":\"https://pp.vk.me/c623826/v623826988/1b69e/quiCn9EseAU.jpg\",\"width\":110,\"height\":130,\"type\":\"m\"},{\"src\":\"https://pp.vk.me/c623826/v623826988/1b69f/U8t4tfaQjUs.jpg\",\"width\":509,\"height\":604,\"type\":\"x\"},{\"src\":\"https://pp.vk.me/c623826/v623826988/1b6a0/GV0ooKNmht0.jpg\",\"width\":680,\"height\":807,\"type\":\"y\"},{\"src\":\"https://pp.vk.me/c623826/v623826988/1b6a1/AONjV45ID88.jpg\",\"width\":811,\"height\":963,\"type\":\"z\"},{\"src\":\"https://pp.vk.me/c623826/v623826988/1b6a2/--SGxYJwonI.jpg\",\"width\":130,\"height\":154,\"type\":\"o\"},{\"src\":\"https://pp.vk.me/c623826/v623826988/1b6a3/v_XGLpZqXK4.jpg\",\"width\":200,\"height\":237,\"type\":\"p\"},{\"src\":\"https://pp.vk.me/c623826/v623826988/1b6a4/QOTs30jWPws.jpg\",\"width\":320,\"height\":380,\"type\":\"q\"},{\"src\":\"https://pp.vk.me/c623826/v623826988/1b6a5/Tx520lirBZI.jpg\",\"width\":510,\"height\":606,\"type\":\"r\"}],\"text\":\"\",\"date\":1439196558,\"post_id\":10748,\"real_offset\":2},{\"id\":377705118,\"album_id\":-6,\"owner_id\":190735249,\"sizes\":[{\"src\":\"https://pp.vk.me/c627128/v627128714/23335/jVg_dFPgf70.jpg\",\"width\":72,\"height\":75,\"type\":\"s\"},{\"src\":\"https://pp.vk.me/c627128/v627128714/23336/IedGk7HpzsE.jpg\",\"width\":124,\"height\":130,\"type\":\"m\"},{\"src\":\"https://pp.vk.me/c627128/v627128714/23337/xaGlRLh7gl4.jpg\",\"width\":576,\"height\":604,\"type\":\"x\"},{\"src\":\"https://pp.vk.me/c627128/v627128714/23338/7-lCk_2q8RE.jpg\",\"width\":769,\"height\":807,\"type\":\"y\"},{\"src\":\"https://pp.vk.me/c627128/v627128714/23339/WmCEnlVuYV0.jpg\",\"width\":873,\"height\":916,\"type\":\"z\"},{\"src\":\"https://pp.vk.me/c627128/v627128714/2333a/V85WcIRYVM4.jpg\",\"width\":130,\"height\":136,\"type\":\"o\"},{\"src\":\"https://pp.vk.me/c627128/v627128714/2333b/V9sbGVCmNac.jpg\",\"width\":200,\"height\":210,\"type\":\"p\"},{\"src\":\"https://pp.vk.me/c627128/v627128714/2333c/dyRIefrmLLk.jpg\",\"width\":320,\"height\":336,\"type\":\"q\"},{\"src\":\"https://pp.vk.me/c627128/v627128714/2333d/rHQo15_2bbk.jpg\",\"width\":510,\"height\":535,\"type\":\"r\"}],\"text\":\"\",\"date\":1439146651,\"post_id\":10742,\"real_offset\":3},{\"id\":377365702,\"album_id\":-6,\"owner_id\":190735249,\"sizes\":[{\"src\":\"https://pp.vk.me/c627626/v627626096/a255/yatGLepxhx0.jpg\",\"width\":49,\"height\":75,\"type\":\"s\"},{\"src\":\"https://pp.vk.me/c627626/v627626096/a256/Tl5X5-8meGc.jpg\",\"width\":85,\"height\":130,\"type\":\"m\"},{\"src\":\"https://pp.vk.me/c627626/v627626096/a257/_1hN1IKUDxY.jpg\",\"width\":397,\"height\":604,\"type\":\"x\"},{\"src\":\"https://pp.vk.me/c627626/v627626096/a258/lPh71DUNcBs.jpg\",\"width\":531,\"height\":807,\"type\":\"y\"},{\"src\":\"https://pp.vk.me/c627626/v627626096/a259/hUSiICiXUGQ.jpg\",\"width\":674,\"height\":1024,\"type\":\"z\"},{\"src\":\"https://pp.vk.me/c627626/v627626096/a25a/0mizMbYXdq0.jpg\",\"width\":1166,\"height\":1772,\"type\":\"w\"},{\"src\":\"https://pp.vk.me/c627626/v627626096/a25b/8moJUc9ghRE.jpg\",\"width\":130,\"height\":198,\"type\":\"o\"},{\"src\":\"https://pp.vk.me/c627626/v627626096/a25c/X2cQiJHnj3o.jpg\",\"width\":200,\"height\":304,\"type\":\"p\"},{\"src\":\"https://pp.vk.me/c627626/v627626096/a25d/Ip29FMMiNmE.jpg\",\"width\":320,\"height\":486,\"type\":\"q\"},{\"src\":\"https://pp.vk.me/c627626/v627626096/a25e/tVv3enobNb0.jpg\",\"width\":510,\"height\":775,\"type\":\"r\"}],\"text\":\"\",\"date\":1438889839,\"post_id\":10736,\"real_offset\":4},{\"id\":377134027,\"album_id\":-6,\"owner_id\":190735249,\"sizes\":[{\"src\":\"https://pp.vk.me/c624628/v624628738/39921/37Pq3zN0edI.jpg\",\"width\":75,\"height\":75,\"type\":\"s\"},{\"src\":\"https://pp.vk.me/c624628/v624628738/39922/UQ5xtXm1aUs.jpg\",\"width\":130,\"height\":130,\"type\":\"m\"},{\"src\":\"https://pp.vk.me/c624628/v624628738/39923/y8yw7Y60o84.jpg\",\"width\":604,\"height\":604,\"type\":\"x\"},{\"src\":\"https://pp.vk.me/c624628/v624628738/39924/lM0q54NxeOA.jpg\",\"width\":807,\"height\":807,\"type\":\"y\"},{\"src\":\"https://pp.vk.me/c624628/v624628738/39925/6Zttapym29k.jpg\",\"width\":1024,\"height\":1024,\"type\":\"z\"},{\"src\":\"https://pp.vk.me/c624628/v624628738/39926/Qd8xlo12VQY.jpg\",\"width\":1280,\"height\":1280,\"type\":\"w\"},{\"src\":\"https://pp.vk.me/c624628/v624628738/39927/9keEjuDuoMs.jpg\",\"width\":130,\"height\":130,\"type\":\"o\"},{\"src\":\"https://pp.vk.me/c624628/v624628738/39928/oG6M_9iCOuA.jpg\",\"width\":200,\"height\":200,\"type\":\"p\"},{\"src\":\"https://pp.vk.me/c624628/v624628738/39929/Uw553RgKmnc.jpg\",\"width\":320,\"height\":320,\"type\":\"q\"},{\"src\":\"https://pp.vk.me/c624628/v624628738/3992a/rZmcI9n4wIk.jpg\",\"width\":510,\"height\":510,\"type\":\"r\"}],\"text\":\"\",\"date\":1438736077,\"post_id\":10734,\"real_offset\":5},{\"id\":375795382,\"album_id\":-6,\"owner_id\":190735249,\"sizes\":[{\"src\":\"https://pp.vk.me/c624025/v624025713/3b652/eUZjI04gDeM.jpg\",\"width\":75,\"height\":38,\"type\":\"s\"},{\"src\":\"https://pp.vk.me/c624025/v624025713/3b653/x1rsUciQkWg.jpg\",\"width\":130,\"height\":66,\"type\":\"m\"},{\"src\":\"https://pp.vk.me/c624025/v624025713/3b654/qUZUWQKeibM.jpg\",\"width\":604,\"height\":307,\"type\":\"x\"},{\"src\":\"https://pp.vk.me/c624025/v624025713/3b655/FvZJtuhbVGs.jpg\",\"width\":807,\"height\":410,\"type\":\"y\"},{\"src\":\"https://pp.vk.me/c624025/v624025713/3b656/TCEtZ9j_I7M.jpg\",\"width\":1280,\"height\":650,\"type\":\"z\"},{\"src\":\"https://pp.vk.me/c624025/v624025713/3b657/u3cMQnSOOcQ.jpg\",\"width\":130,\"height\":87,\"type\":\"o\"},{\"src\":\"https://pp.vk.me/c624025/v624025713/3b658/Z3xPAMrRmPU.jpg\",\"width\":200,\"height\":133,\"type\":\"p\"},{\"src\":\"https://pp.vk.me/c624025/v624025713/3b659/Ak4Ohxor7To.jpg\",\"width\":320,\"height\":213,\"type\":\"q\"},{\"src\":\"https://pp.vk.me/c624025/v624025713/3b65a/n_EXu3JWLFk.jpg\",\"width\":510,\"height\":340,\"type\":\"r\"}],\"text\":\"\",\"date\":1437846425,\"post_id\":10720,\"real_offset\":6},{\"id\":374142965,\"album_id\":-6,\"owner_id\":190735249,\"sizes\":[{\"src\":\"https://pp.vk.me/c629402/v629402248/8195/zS7uVTYNJdo.jpg\",\"width\":75,\"height\":56,\"type\":\"s\"},{\"src\":\"https://pp.vk.me/c629402/v629402248/8196/-v46XQ1C7xc.jpg\",\"width\":130,\"height\":97,\"type\":\"m\"},{\"src\":\"https://pp.vk.me/c629402/v629402248/8197/c1NvJod_L6U.jpg\",\"width\":604,\"height\":453,\"type\":\"x\"},{\"src\":\"https://pp.vk.me/c629402/v629402248/8198/DJpCbFv6DyQ.jpg\",\"width\":640,\"height\":480,\"type\":\"y\"},{\"src\":\"https://pp.vk.me/c629402/v629402248/8199/9PkJCq3Pqe4.jpg\",\"width\":130,\"height\":98,\"type\":\"o\"},{\"src\":\"https://pp.vk.me/c629402/v629402248/819a/SJx_ZTQblLQ.jpg\",\"width\":200,\"height\":150,\"type\":\"p\"},{\"src\":\"https://pp.vk.me/c629402/v629402248/819b/bfR-lhpzOY0.jpg\",\"width\":320,\"height\":240,\"type\":\"q\"},{\"src\":\"https://pp.vk.me/c629402/v629402248/819c/slofqwrzwJg.jpg\",\"width\":510,\"height\":383,\"type\":\"r\"}],\"text\":\"\",\"date\":1436694546,\"post_id\":10694,\"real_offset\":7},{\"id\":373980411,\"album_id\":-6,\"owner_id\":190735249,\"sizes\":[{\"src\":\"https://pp.vk.me/c625820/v625820516/225e7/RJxzYeT2gOI.jpg\",\"width\":62,\"height\":75,\"type\":\"s\"},{\"src\":\"https://pp.vk.me/c625820/v625820516/225e8/MSdfhLEVNRk.jpg\",\"width\":107,\"height\":130,\"type\":\"m\"},{\"src\":\"https://pp.vk.me/c625820/v625820516/225e9/WmFko6tJXcA.jpg\",\"width\":495,\"height\":604,\"type\":\"x\"},{\"src\":\"https://pp.vk.me/c625820/v625820516/225ea/T44RkbxFRj8.jpg\",\"width\":661,\"height\":807,\"type\":\"y\"},{\"src\":\"https://pp.vk.me/c625820/v625820516/225eb/mIcTwRl2qQo.jpg\",\"width\":786,\"height\":960,\"type\":\"z\"},{\"src\":\"https://pp.vk.me/c625820/v625820516/225ec/HIrTu0_8TUg.jpg\",\"width\":130,\"height\":159,\"type\":\"o\"},{\"src\":\"https://pp.vk.me/c625820/v625820516/225ed/K_Hktsyjink.jpg\",\"width\":200,\"height\":244,\"type\":\"p\"},{\"src\":\"https://pp.vk.me/c625820/v625820516/225ee/rTd5zSMGLYo.jpg\",\"width\":320,\"height\":391,\"type\":\"q\"},{\"src\":\"https://pp.vk.me/c625820/v625820516/225ef/juIgsdC8z1g.jpg\",\"width\":510,\"height\":623,\"type\":\"r\"}],\"text\":\"\",\"date\":1436555741,\"post_id\":10690,\"real_offset\":8},{\"id\":373834056,\"album_id\":-6,\"owner_id\":190735249,\"sizes\":[{\"src\":\"https://pp.vk.me/c7009/v7009055/19e2/9YqRPA7ueE0.jpg\",\"width\":55,\"height\":75,\"type\":\"s\"},{\"src\":\"https://pp.vk.me/c7009/v7009055/19e3/hFBvPAr1eIU.jpg\",\"width\":96,\"height\":130,\"type\":\"m\"},{\"src\":\"https://pp.vk.me/c7009/v7009055/19e4/uuokVOga0QM.jpg\",\"width\":444,\"height\":604,\"type\":\"x\"},{\"src\":\"https://pp.vk.me/c7009/v7009055/19e5/PcR5Mxss5_I.jpg\",\"width\":550,\"height\":748,\"type\":\"y\"},{\"src\":\"https://pp.vk.me/c7009/v7009055/19e6/Dp4qJDgOK7o.jpg\",\"width\":130,\"height\":177,\"type\":\"o\"},{\"src\":\"https://pp.vk.me/c7009/v7009055/19e7/d4UbzVOZc_w.jpg\",\"width\":200,\"height\":272,\"type\":\"p\"},{\"src\":\"https://pp.vk.me/c7009/v7009055/19e8/VnsGeYK6290.jpg\",\"width\":320,\"height\":435,\"type\":\"q\"},{\"src\":\"https://pp.vk.me/c7009/v7009055/19e9/qKYXqcPE_LI.jpg\",\"width\":510,\"height\":694,\"type\":\"r\"}],\"text\":\"\",\"date\":1436457054,\"post_id\":10685,\"real_offset\":9}],\"more\":1}}";
        private const string Artur = "{\"id\":17234229,\"first_name\":\"Артур\",\"last_name\":\"Булатов\",\"sex\":2,\"domain\":\"ar4ebald\",\"bdate\":\"6.2.1997\",\"city\":{\"id\":1,\"title\":\"Москва\"},\"photo_max_orig\":\"https://pp.vk.me/c624916/v624916229/365c8/YPItt6ES6hs.jpg\",\"friend_status\":0,\"online\":1,\"mobile_phone\":\"\",\"home_phone\":\"\",\"site\":\"\",\"status_audio\":{\"id\":377371633,\"owner_id\":-55363567,\"artist\":\"Multicast Dynamics\",\"title\":\"Amphibi\",\"duration\":334,\"date\":1434521216,\"url\":\"https://psv4.vk.me/c613126/u6726913/audios/446ac5c532c5.mp3?extra=u3qJL9GcRxL43BOsY7zvlj2c5pf_5rZntx1h-l14X1POyP40oQv2YgVR3QeetSuV7kiDpT1jTULVVGuEdkCUWcwdDM8nD6at\",\"genre_id\":18},\"status\":\"\",\"last_seen\":{\"time\":1439641848,\"platform\":7},\"counters\":{\"albums\":17,\"videos\":776,\"audios\":610,\"notes\":9,\"photos\":1109,\"groups\":43,\"gifts\":15,\"friends\":204,\"online_friends\":27,\"user_photos\":24,\"user_videos\":13,\"followers\":60,\"subscriptions\":1,\"pages\":28},\"occupation\":{\"type\":\"university\",\"id\":128,\"name\":\"НИУ ВШЭ (ГУ-ВШЭ)\"},\"home_town\":\"Набережные Челны\",\"relation\":0,\"personal\":[],\"interests\":\"\",\"music\":\"\",\"activities\":\"\",\"movies\":\"Заводной апельсин\",\"tv\":\"\",\"books\":\"\",\"games\":\"\",\"universities\":[{\"id\":128,\"country\":1,\"city\":1,\"name\":\"НИУ ВШЭ (ГУ-ВШЭ)\",\"faculty\":2166855,\"faculty_name\":\"Компьютерных наук\",\"chair\":1837260,\"chair_name\":\"Департамент программной инженерии\",\"graduation\":2019,\"education_status\":\"Студент (бакалавр)\"}],\"schools\":[{\"id\":\"157595\",\"country\":1,\"city\":88,\"name\":\"Гимназия №76 (бывш. 3)\",\"class\":\"\"},{\"id\":\"4343\",\"country\":1,\"city\":88,\"name\":\"Гимназия №26\",\"year_from\":2012,\"year_to\":2013,\"class\":\"г\"},{\"id\":\"48659\",\"country\":1,\"city\":1,\"name\":\"Специализированный учебно-научный центр МГУ (СУНЦ им. А. Н. Колмогорова)\",\"year_from\":2014,\"year_to\":2015,\"year_graduated\":2015,\"class\":\"в\"}],\"about\":\"\",\"quotes\":\"\",\"photos\":{\"count\":1109,\"items\":[{\"id\":376471471,\"album_id\":210428759,\"owner_id\":17234229,\"sizes\":[{\"src\":\"https://pp.vk.me/c619420/v619420547/13c5e/65XmeDCHg18.jpg\",\"width\":75,\"height\":56,\"type\":\"s\"},{\"src\":\"https://pp.vk.me/c619420/v619420547/13c5f/VUZLJfXitlM.jpg\",\"width\":130,\"height\":97,\"type\":\"m\"},{\"src\":\"https://pp.vk.me/c619420/v619420547/13c60/Xskot2QpTPM.jpg\",\"width\":604,\"height\":453,\"type\":\"x\"},{\"src\":\"https://pp.vk.me/c619420/v619420547/13c61/1GAyN2FKNTA.jpg\",\"width\":768,\"height\":576,\"type\":\"y\"},{\"src\":\"https://pp.vk.me/c619420/v619420547/13c62/jrzYoBuzQmQ.jpg\",\"width\":130,\"height\":98,\"type\":\"o\"},{\"src\":\"https://pp.vk.me/c619420/v619420547/13c63/ryyY_GaZ4sY.jpg\",\"width\":200,\"height\":150,\"type\":\"p\"},{\"src\":\"https://pp.vk.me/c619420/v619420547/13c64/v-BBr-sy1dc.jpg\",\"width\":320,\"height\":240,\"type\":\"q\"},{\"src\":\"https://pp.vk.me/c619420/v619420547/13c65/pRlem6uYo9s.jpg\",\"width\":510,\"height\":383,\"type\":\"r\"}],\"text\":\"\",\"date\":1438956741,\"real_offset\":0},{\"id\":373497144,\"album_id\":210428759,\"owner_id\":17234229,\"sizes\":[{\"src\":\"https://cs7055.vk.me/c540104/v540104697/4c96d/SVo3tTYK_bE.jpg\",\"width\":75,\"height\":70,\"type\":\"s\"},{\"src\":\"https://cs7055.vk.me/c540104/v540104697/4c96e/vmA-PtlOAsw.jpg\",\"width\":130,\"height\":122,\"type\":\"m\"},{\"src\":\"https://cs7055.vk.me/c540104/v540104697/4c96f/BfGUGh5Wxqg.jpg\",\"width\":587,\"height\":551,\"type\":\"x\"},{\"src\":\"https://cs7055.vk.me/c540104/v540104697/4c970/MOAfk2PUVz8.jpg\",\"width\":130,\"height\":122,\"type\":\"o\"},{\"src\":\"https://cs7055.vk.me/c540104/v540104697/4c971/ygztb2tWjuk.jpg\",\"width\":200,\"height\":188,\"type\":\"p\"},{\"src\":\"https://cs7055.vk.me/c540104/v540104697/4c972/tCZI1WNoUHQ.jpg\",\"width\":320,\"height\":300,\"type\":\"q\"},{\"src\":\"https://cs7055.vk.me/c540104/v540104697/4c973/Lkits3OTT4A.jpg\",\"width\":510,\"height\":479,\"type\":\"r\"}],\"text\":\"\",\"date\":1436699507,\"real_offset\":1},{\"id\":370754822,\"album_id\":210428759,\"owner_id\":17234229,\"sizes\":[{\"src\":\"https://pp.vk.me/c624618/v624618304/32f9e/9-7lqY_3Ggg.jpg\",\"width\":75,\"height\":63,\"type\":\"s\"},{\"src\":\"https://pp.vk.me/c624618/v624618304/32f9f/be0Xv1hO78c.jpg\",\"width\":130,\"height\":110,\"type\":\"m\"},{\"src\":\"https://pp.vk.me/c624618/v624618304/32fa0/znbY4gBvpTE.jpg\",\"width\":244,\"height\":207,\"type\":\"x\"},{\"src\":\"https://pp.vk.me/c624618/v624618304/32fa1/ZXHf1hmQE1g.jpg\",\"width\":130,\"height\":110,\"type\":\"o\"},{\"src\":\"https://pp.vk.me/c624618/v624618304/32fa2/zS5OX8fYK0Y.jpg\",\"width\":200,\"height\":170,\"type\":\"p\"},{\"src\":\"https://pp.vk.me/c624618/v624618304/32fa3/gtZJcTw5_vk.jpg\",\"width\":244,\"height\":207,\"type\":\"q\"},{\"src\":\"https://pp.vk.me/c624618/v624618304/32fa4/e7FVh_ikStY.jpg\",\"width\":244,\"height\":207,\"type\":\"r\"}],\"text\":\"\",\"date\":1434584460,\"real_offset\":2},{\"id\":370088925,\"album_id\":-6,\"owner_id\":17234229,\"sizes\":[{\"src\":\"https://pp.vk.me/c624916/v624916229/365bd/1MO3VUbhNHk.jpg\",\"width\":75,\"height\":42,\"type\":\"s\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/365be/G4R67IHpS50.jpg\",\"width\":130,\"height\":73,\"type\":\"m\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/365bf/lkaARfBWs-g.jpg\",\"width\":604,\"height\":340,\"type\":\"x\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/365c0/qoDY599xyqQ.jpg\",\"width\":807,\"height\":454,\"type\":\"y\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/365c1/I1BErGqgK9Q.jpg\",\"width\":1280,\"height\":720,\"type\":\"z\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/365c2/MA41zRHE1DY.jpg\",\"width\":2064,\"height\":1161,\"type\":\"w\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/365c3/YGy27UFhJ2s.jpg\",\"width\":130,\"height\":87,\"type\":\"o\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/365c4/qqAP7VUq73U.jpg\",\"width\":200,\"height\":133,\"type\":\"p\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/365c5/BrDRtF20nFQ.jpg\",\"width\":320,\"height\":213,\"type\":\"q\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/365c6/o5bBcS2xFFM.jpg\",\"width\":510,\"height\":340,\"type\":\"r\"}],\"text\":\"\",\"date\":1434056931,\"post_id\":3965,\"real_offset\":3},{\"id\":369835153,\"album_id\":217119432,\"owner_id\":17234229,\"sizes\":[{\"src\":\"https://pp.vk.me/c624916/v624916229/362f3/GCkExpgTaDM.jpg\",\"width\":75,\"height\":42,\"type\":\"s\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362f4/GKMv2ORE2VE.jpg\",\"width\":130,\"height\":73,\"type\":\"m\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362f5/j7bomSlO0II.jpg\",\"width\":604,\"height\":340,\"type\":\"x\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362f6/Tm8V3fmAfTw.jpg\",\"width\":807,\"height\":454,\"type\":\"y\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362f7/sKFN78IT2vs.jpg\",\"width\":1280,\"height\":720,\"type\":\"z\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362f8/vFZQc0KeuoY.jpg\",\"width\":2064,\"height\":1161,\"type\":\"w\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362f9/iWvNBaErldI.jpg\",\"width\":130,\"height\":87,\"type\":\"o\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362fa/_di_TQv9UiY.jpg\",\"width\":200,\"height\":133,\"type\":\"p\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362fb/yf_w8kwLKt0.jpg\",\"width\":320,\"height\":213,\"type\":\"q\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362fc/jAM535bADac.jpg\",\"width\":510,\"height\":340,\"type\":\"r\"}],\"text\":\"\",\"date\":1433871456,\"real_offset\":4},{\"id\":369835143,\"album_id\":217119432,\"owner_id\":17234229,\"sizes\":[{\"src\":\"https://pp.vk.me/c624916/v624916229/362df/_j__UmVTOLg.jpg\",\"width\":75,\"height\":42,\"type\":\"s\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362e0/auMhgUteREs.jpg\",\"width\":130,\"height\":73,\"type\":\"m\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362e1/EzyVwX_j5f8.jpg\",\"width\":604,\"height\":340,\"type\":\"x\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362e2/qiTLzd5SBRI.jpg\",\"width\":807,\"height\":454,\"type\":\"y\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362e3/eGPyKovjUI0.jpg\",\"width\":1280,\"height\":720,\"type\":\"z\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362e4/UlW2oeTjSeo.jpg\",\"width\":2064,\"height\":1161,\"type\":\"w\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362e5/SsFCKgZ1Zrg.jpg\",\"width\":130,\"height\":87,\"type\":\"o\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362e6/VZEeC0bDyrw.jpg\",\"width\":200,\"height\":133,\"type\":\"p\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362e7/JBax88fotT4.jpg\",\"width\":320,\"height\":213,\"type\":\"q\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362e8/xvFulVL7wYw.jpg\",\"width\":510,\"height\":340,\"type\":\"r\"}],\"text\":\"\",\"date\":1433871452,\"real_offset\":6},{\"id\":369835138,\"album_id\":217119432,\"owner_id\":17234229,\"sizes\":[{\"src\":\"https://pp.vk.me/c624916/v624916229/362d5/OcalryspJb4.jpg\",\"width\":75,\"height\":42,\"type\":\"s\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362d6/TBmrIQCELqw.jpg\",\"width\":130,\"height\":73,\"type\":\"m\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362d7/mXiw7p8ijgY.jpg\",\"width\":604,\"height\":340,\"type\":\"x\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362d8/otxJwCW0osc.jpg\",\"width\":807,\"height\":454,\"type\":\"y\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362d9/56i7tlltOuw.jpg\",\"width\":1280,\"height\":720,\"type\":\"z\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362da/hZn_wcW0Cx0.jpg\",\"width\":2064,\"height\":1161,\"type\":\"w\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362db/KMqhBaGlw_A.jpg\",\"width\":130,\"height\":87,\"type\":\"o\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362dc/iw8fU9MPAJo.jpg\",\"width\":200,\"height\":133,\"type\":\"p\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362dd/vBEjiy8Q-8k.jpg\",\"width\":320,\"height\":213,\"type\":\"q\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362de/jp3E_V92ECc.jpg\",\"width\":510,\"height\":340,\"type\":\"r\"}],\"text\":\"\",\"date\":1433871450,\"real_offset\":7},{\"id\":369835133,\"album_id\":217119432,\"owner_id\":17234229,\"sizes\":[{\"src\":\"https://pp.vk.me/c624916/v624916229/362cb/8_oiVF2A3OM.jpg\",\"width\":75,\"height\":42,\"type\":\"s\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362cc/XlZbxSJgrPo.jpg\",\"width\":130,\"height\":73,\"type\":\"m\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362cd/5XSc5s4IVWk.jpg\",\"width\":604,\"height\":340,\"type\":\"x\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362ce/YyBsdGDdEhY.jpg\",\"width\":807,\"height\":454,\"type\":\"y\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362cf/IWp2ZkOnKVc.jpg\",\"width\":1280,\"height\":720,\"type\":\"z\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362d0/aAvXYzXGTjY.jpg\",\"width\":2064,\"height\":1161,\"type\":\"w\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362d1/geQT4o888Gk.jpg\",\"width\":130,\"height\":87,\"type\":\"o\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362d2/be9kAbITJxg.jpg\",\"width\":200,\"height\":133,\"type\":\"p\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362d3/TS1t8JREZDk.jpg\",\"width\":320,\"height\":213,\"type\":\"q\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362d4/NZcz52_Oeb0.jpg\",\"width\":510,\"height\":340,\"type\":\"r\"}],\"text\":\"\",\"date\":1433871447,\"real_offset\":8},{\"id\":369835126,\"album_id\":217119432,\"owner_id\":17234229,\"sizes\":[{\"src\":\"https://pp.vk.me/c624916/v624916229/362c1/WDDVl_z-EMk.jpg\",\"width\":75,\"height\":42,\"type\":\"s\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362c2/r0ZElTLzyYQ.jpg\",\"width\":130,\"height\":73,\"type\":\"m\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362c3/qcQsDXSMQkM.jpg\",\"width\":604,\"height\":340,\"type\":\"x\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362c4/j7GJ4v67w6U.jpg\",\"width\":807,\"height\":454,\"type\":\"y\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362c5/-cQmH2V-TP4.jpg\",\"width\":1280,\"height\":720,\"type\":\"z\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362c6/hzBxzC94vwg.jpg\",\"width\":2064,\"height\":1161,\"type\":\"w\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362c7/lDhq1iysysc.jpg\",\"width\":130,\"height\":87,\"type\":\"o\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362c8/g61UVQ2z_KU.jpg\",\"width\":200,\"height\":133,\"type\":\"p\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362c9/EH_MreBbNJY.jpg\",\"width\":320,\"height\":213,\"type\":\"q\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362ca/h5RLPjFM85g.jpg\",\"width\":510,\"height\":340,\"type\":\"r\"}],\"text\":\"\",\"date\":1433871443,\"real_offset\":9},{\"id\":369835120,\"album_id\":217119432,\"owner_id\":17234229,\"sizes\":[{\"src\":\"https://pp.vk.me/c624916/v624916229/362b7/ZEEc6mv3TMM.jpg\",\"width\":75,\"height\":42,\"type\":\"s\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362b8/ZgOtfgIaw_U.jpg\",\"width\":130,\"height\":73,\"type\":\"m\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362b9/E3bizpWTu7w.jpg\",\"width\":604,\"height\":340,\"type\":\"x\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362ba/djXqTv6cYVQ.jpg\",\"width\":807,\"height\":454,\"type\":\"y\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362bb/arOolMDa0wI.jpg\",\"width\":1280,\"height\":720,\"type\":\"z\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362bc/00aVmNx7g1E.jpg\",\"width\":2064,\"height\":1161,\"type\":\"w\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362bd/2oRqt6CDwTs.jpg\",\"width\":130,\"height\":87,\"type\":\"o\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362be/oHR4H-qG8fw.jpg\",\"width\":200,\"height\":133,\"type\":\"p\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362bf/6rT2cTJuRYk.jpg\",\"width\":320,\"height\":213,\"type\":\"q\"},{\"src\":\"https://pp.vk.me/c624916/v624916229/362c0/gCbI3-Y-yTA.jpg\",\"width\":510,\"height\":340,\"type\":\"r\"}],\"text\":\"\",\"date\":1433871441,\"real_offset\":10}],\"more\":1}}";
        private const string DefaultJson = Artur;

        public UserViewModel(JObject json)
        {
#if DEBUG
            string jsonString;
            if (!DesignMode.DesignModeEnabled)
                jsonString = json.ToString(Formatting.None);
#endif
            JToken token;

            UserId = json["id"].Value<long>();

            FullName = string.Join(" ", json["first_name"].Value<string>(), json["last_name"].Value<string>());
            Photo = json["photo_max_orig"].Value<string>();

            Online = json["online"].Value<bool>() ? "(онлайн)" : string.Empty;

            DataAvailable = true;

            Status = json.TryGetValue("status_audio", out token)
                ? $"Слушает {token["artist"]} - {token["title"]}"
                : json["status"].Value<string>();

            MainInfoItems = new List<StringPair>();

            if (json.TryGetValue("bdate", out token))
            {
                string birthdate;
                var parts = token.Value<string>().Split('.');
                var ci = new CultureInfo("ru-RU");
                if (parts.Length == 2)
                {
                    var date = new DateTime(2000, parts[1].ToInt(), parts[0].ToInt());
                    birthdate = date.ToString("d MMMM", ci);
                }
                else
                {
                    var date = new DateTime(parts[2].ToInt(), parts[1].ToInt(), parts[0].ToInt());

                    var now = DateTime.Now;
                    var age = now.Year - date.Year;
                    if (now.Month < date.Month || (now.Month == date.Month && now.Day < date.Day))
                        age--;

                    birthdate = string.Format(ci, "{0:d MMMM yyyy} г. ({1} {2})", date, age, age.GetNumEnding("год", "года", "лет"));
                }
                MainInfoItems.Add(new StringPair("День рождения:", birthdate));
            }
            if (json.TryGetValue("occupation", out token))
            {
                MainInfoItems.Add(new StringPair(
                    token["type"].Value<string>() == "work" ? "Место работы:" : "Место учебы:",
                    token["name"].Value<string>()));
            }
            if (json.TryGetValue("city", out token))
                MainInfoItems.Add(new StringPair("Город:", token["title"].Value<string>()));
            else if (json.TryGetValue("home_town", out token))
                MainInfoItems.Add(new StringPair("Родной город:", token.Value<string>()));

            var counters = json["counters"].Value<JObject>();

            Counters = new List<CountersMenuItem>();
            Counters.Add(new CountersMenuItem(counters["friends"].Value<int>(), "друг", "друга", "друзей"));
            if (counters.TryGetValue("mutual_friends", out token))
                Counters.Add(new CountersMenuItem(token.Value<int>(), "общий", "общих", "общих"));
            if (counters.TryGetValue("онлайн_friends", out token))
                Counters.Add(new CountersMenuItem(token.Value<int>(), "онлайн", "онлайн", "онлайн"));
            if (counters.TryGetValue("followers", out token))
                Counters.Add(new CountersMenuItem(token.Value<int>(), "подписчик", "подписчика", "подписчиков"));
            Counters.Add(new CountersMenuItem(counters["photos"].Value<int>(), "фото", "фото", "фото"));
            Counters.Add(new CountersMenuItem(counters["videos"].Value<int>(), "видео", "видео", "видео"));
            if (counters.TryGetValue("audios", out token))
                Counters.Add(new CountersMenuItem(token.Value<int>(), "аудио", "аудио", "аудио"));

            Counters.RemoveAll(i => i.Count == 0);

            token = json["photos"];
            var photosCount = token["count"].Value<int>();
            PhotosCount = $"{photosCount} {photosCount.GetNumEnding("фотография", "фотографии", "фотографий")}";

            FirstPhotos = token["items"].Select(i => new PhotoDialogViewModel.PhotoItem(i)).ToList();
            var photos = token["items"].Select(i => new PhotoMenuItem(i)).ToList();
            Photos = new List<PhotoMenuItem>();
            var leftWidth = 782 - 2 * 4;
            foreach (var photo in photos)
            {
                leftWidth -= 130 * photo.Width / photo.Height + 4;
                if (leftWidth < 0)
                    break;
                Photos.Add(photo);
            }
        }

        public class StringPair
        {
            public string Key { get; set; }
            public string Value { get; set; }

            public StringPair(string key, string value)
            {
                Key = key;
                Value = value;
            }
        }
        public class CountersMenuItem
        {
            public string Title { get; }
            public int Count { get; }

            public CountersMenuItem(int count, params string[] endings)
            {
                Title = count.GetNumEnding(endings);
                Count = count;
            }
        }

        public class PhotoMenuItem
        {
            public int Offset { get; }
            public int Width { get; }
            public int Height { get; }
            public string Source { get; }

            public PhotoMenuItem(JToken json)
            {
                Offset = json["real_offset"].Value<int>();
                var size = json["sizes"].First(i => i["type"].Value<string>() == "o");
                Source = size["src"].Value<string>();
                Width = size["width"].Value<int>();
                Height = size["height"].Value<int>();
            }
        }

        public UserViewModel() : this(JObject.Parse(DefaultJson)) { }

        private delegate RequestData CreatorDelegate(long userIds);
        private static readonly CreatorDelegate Request = RequestData.Creator<CreatorDelegate>("execute.getUser",
            new RequestArgs()
            {
                //["fields"] = "sex,bdate,city,home_town,photo_max_orig,online,domain,contacts,site,universities,schools,status,last_seen,counters,occupation,relation,personal,connections,activities,interests,music,movies,tv,books,games,about,quotes,friend_status"
            });
        public static async Task<UserViewModel> CreateAsync(long userId)
        {
            var json = await Api.Execute(Request(userId));
            if (json == null)
                throw new ArgumentException("User don't exists", nameof(userId));

            return new UserViewModel(json.Value<JObject>());
        }

        public event PropertyChangedEventHandler PropertyChanged;

        [NotifyPropertyChangedInvocator]
        protected virtual void OnPropertyChanged([CallerMemberName] string propertyName = null)
        {
            PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(propertyName));
        }
    }
}
